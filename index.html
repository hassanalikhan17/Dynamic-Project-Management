<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secure Auth | Login & Register</title>
  <style>
    /* Background Image */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: url("https://images.unsplash.com/photo-1522199710521-72d69614c702?auto=format&fit=crop&w=1950&q=80") no-repeat center center/cover;
      position: relative;
      overflow: hidden;
    }

    /* Glowing Border around full page */
    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      border: 8px solid transparent;
      border-image: linear-gradient(270deg, #ff0084, #ff6a00, #2575fc, #6a11cb);
      border-image-slice: 1;
      animation: borderShift 8s linear infinite;
      z-index: 2;
      pointer-events: none;
    }

    @keyframes borderShift {
      0% { border-image-source: linear-gradient(270deg, #ff0084, #ff6a00, #2575fc, #6a11cb); }
      50% { border-image-source: linear-gradient(270deg, #6a11cb, #2575fc, #ff6a00, #ff0084); }
      100% { border-image-source: linear-gradient(270deg, #ff0084, #ff6a00, #2575fc, #6a11cb); }
    }

    /* Dark overlay for readability */
    body::after {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.55);
      z-index: 0;
    }

    /* Auth Container with animated border */
    .auth-container {
      position: relative;
      background: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border-radius: 16px;
      width: 100%;
      max-width: 420px;
      text-align: center;
      z-index: 3;
      border: 4px solid transparent;
      border-image: linear-gradient(270deg, #ff0084, #ff6a00, #2575fc, #6a11cb);
      border-image-slice: 1;
      animation: borderShift 8s linear infinite;
    }

    /* Inner box with changing background */
    .inner-box {
      padding: 30px 25px;
      border-radius: 12px;
      background: linear-gradient(270deg, #ffecd2, #fcb69f, #a1c4fd, #c2e9fb);
      background-size: 600% 600%;
      animation: gradientShift 10s ease infinite;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    h2 {
      margin-bottom: 20px;
      font-size: 28px;
      color: #333;
    }

    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    input:focus {
      border-color: #2575fc;
      outline: none;
    }

    button {
      width: 100%;
      padding: 12px;
      background: #2575fc;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #1a5edb;
    }

    p {
      margin-top: 15px;
      font-size: 14px;
      color: #222;
    }

    a {
      color: #2575fc;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }

    /* Hide forms by default */
    #registerForm {
      display: none;
    }

    /* Mobile Responsive */
    @media (max-width: 480px) {
      .auth-container {
        padding: 15px;
      }
      .inner-box {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="auth-container">
    <div class="inner-box">
      <!-- Login Form -->
      <div id="loginForm">
        <h2>Login</h2>
        <form id="login">
          <input type="email" id="loginEmail" placeholder="Email" required>
          <input type="password" id="loginPassword" placeholder="Password" required>
          <button type="submit">Login</button>
        </form>
        <p>Don’t have an account? <a onclick="showRegister()">Register</a></p>
      </div>

      <!-- Register Form -->
      <div id="registerForm">
        <h2>Register</h2>
        <form id="register">
          <input type="text" id="regName" placeholder="Full Name" required>
          <input type="email" id="regEmail" placeholder="Email" required>
          <input type="password" id="regPassword" placeholder="Password" required>
          <button type="submit">Register</button>
        </form>
        <p>Already have an account? <a onclick="showLogin()">Login</a></p>
      </div>
    </div>
  </div>

  <script>
    // Switch between login and register
    function showRegister() {
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("registerForm").style.display = "block";
    }
    function showLogin() {
      document.getElementById("registerForm").style.display = "none";
      document.getElementById("loginForm").style.display = "block";
    }

    // SHA-256 hashing
    async function hashPassword(password) {
      const encoder = new TextEncoder();
      const data = encoder.encode(password);
      const hashBuffer = await crypto.subtle.digest("SHA-256", data);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
    }

   // Login submit
document.getElementById("login").addEventListener("submit", async (e) => {
  e.preventDefault();
  const email = document.getElementById("loginEmail").value;
  const password = document.getElementById("loginPassword").value;
  const hashedPassword = await hashPassword(password);

  console.log("Login Email:", email);
  console.log("Login Hashed Password:", hashedPassword);

  // ✅ Save login state before redirect
  localStorage.setItem("isLoggedIn", "true");

  // Redirect to dashboard
  window.location.href = "dashboard.html";
});

    // Register submit
    document.getElementById("register").addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("regName").value;
      const email = document.getElementById("regEmail").value;
      const password = document.getElementById("regPassword").value;
      const hashedPassword = await hashPassword(password);

      console.log("Register Name:", name);
      console.log("Register Email:", email);
      console.log("Register Hashed Password:", hashedPassword);

      alert("Registration successful! Please login.");
      showLogin();
    });
  </script>
</body>
</html>
